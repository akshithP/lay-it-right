(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[554],{9846:function(e,t,l){Promise.resolve().then(l.bind(l,6943))},6943:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return es}});var i=l(7437),s=l(8964),a=l(2660),r=l(9376),n=l(8614),o=l(521);function c(){var e,t;let{wizardSteps:l,currentStep:a}=(0,s.i)();return(0,i.jsx)("div",{className:"mb-12",children:(0,i.jsxs)("div",{className:"bg-layit-white border-4 border-layit-blue rounded-none shadow-[8px_8px_0px_theme(colors.layit.blue)] p-6 font-mono",children:[(0,i.jsxs)("h3",{className:"text-lg font-bold mb-6 uppercase text-layit-blue",children:["STEP ",a+1,": ",null===(t=l[a])||void 0===t?void 0:null===(e=t.title)||void 0===e?void 0:e.toUpperCase()]}),(0,i.jsx)("div",{className:"flex items-center justify-center",children:l.map((e,t)=>{let s=t===a,r=e.completed,n=t<a;return(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(o.E.div,{initial:!1,animate:{scale:s?1.1:1},transition:{duration:.2},className:"\n                    w-12 h-12 border-4 border-layit-blue flex items-center justify-center font-bold text-xl transition-all\n                    ".concat(s?"bg-layit-blue text-layit-white shadow-[4px_4px_0px_theme(colors.layit.orange)]":r||n?"bg-layit-orange text-layit-white shadow-[2px_2px_0px_theme(colors.layit.blue)]":"bg-layit-white text-layit-blue","\n                  "),children:r&&!s?"✓":t+1}),t<l.length-1&&(0,i.jsx)("div",{className:"flex-1 mx-4",children:(0,i.jsx)("div",{className:"\n                        h-2 border-3 border-layit-blue transition-all duration-300\n                        ".concat(n||r?"bg-layit-blue":"bg-layit-white","\n                      ")})})]},e.id)})}),(0,i.jsx)("div",{className:"flex justify-between mt-4 text-sm font-bold uppercase",children:l.map((e,t)=>(0,i.jsx)("span",{className:"transition-colors ".concat(t===a?"text-layit-blue":t<=a?"text-layit-blue/70":"text-layit-blue/30"),children:e.title},e.id))})]})})}function d(e){let{children:t,onNext:l,onPrevious:d,canContinue:x=!0,isLoading:h=!1}=e,m=(0,r.useRouter)(),{wizardSteps:u,currentStep:b,nextStep:p,previousStep:y,currentProject:j}=(0,s.i)();u[b];let f=0===b,g=b===u.length-1;return(0,i.jsxs)("div",{className:"min-h-screen bg-layit-yellow font-mono",children:[(0,i.jsxs)("header",{className:"w-full px-6 py-4 flex justify-between items-center border-b-4 border-layit-blue bg-layit-white",children:[(0,i.jsx)("div",{className:"text-2xl font-bold text-layit-blue",children:"LAYITRIGHT"}),(0,i.jsx)("div",{className:"flex gap-4",children:(0,i.jsx)("button",{onClick:()=>{m.push("/")},className:"bg-layit-white border-3 border-layit-blue p-2 transition-all hover:shadow-[3px_3px_0px_theme(colors.layit.orange)] hover:translate-x-[-1px] hover:translate-y-[-1px]",children:(0,i.jsx)(a.Z,{className:"w-5 h-5 text-layit-blue"})})})]}),(0,i.jsxs)("main",{className:"container mx-auto px-6 py-8 max-w-6xl",children:[(0,i.jsx)("div",{className:"text-center mb-8",children:(0,i.jsx)("h1",{className:"text-4xl font-bold mb-4 text-layit-blue",children:"CREATE YOUR TILING PROJECT"})}),(0,i.jsx)(c,{}),(0,i.jsx)("div",{className:"mb-8",children:(0,i.jsx)("div",{className:"bg-layit-white border-4 border-layit-blue rounded-none shadow-[8px_8px_0px_theme(colors.layit.blue)] p-8",children:(0,i.jsx)(n.M,{mode:"wait",children:(0,i.jsx)(o.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:t},b)})})}),(0,i.jsxs)("div",{className:"flex justify-end gap-6",children:[(0,i.jsx)("button",{onClick:()=>{d?d():y()},disabled:f||h,className:"\n              bg-layit-white text-layit-blue border-4 border-layit-blue px-8 py-4 font-bold uppercase letter-spacing-wider transition-all\n              ".concat(f||h?"opacity-50 cursor-not-allowed":"hover:bg-layit-orange hover:text-layit-white hover:shadow-[4px_4px_0px_theme(colors.layit.blue)] hover:translate-x-[-2px] hover:translate-y-[-2px]","\n            "),children:"CANCEL"}),(0,i.jsx)("button",{onClick:()=>{l?l():p()},disabled:!x||h,className:"\n              bg-layit-blue text-layit-white border-4 border-layit-blue px-8 py-4 font-bold uppercase letter-spacing-wider transition-all\n              ".concat(!x||h?"opacity-50 cursor-not-allowed":"hover:shadow-[4px_4px_0px_theme(colors.layit.orange)] hover:translate-x-[-2px] hover:translate-y-[-2px]","\n            "),children:h?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent mr-2 inline-block"}),"PROCESSING..."]}):g?"COMPLETE":"CONTINUE"})]})]})]})}var x=l(2265),h=l(9501),m=l(3590),u=l(5293),b=l(535),p=l(1994),y=l(3335);function j(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return(0,y.m6)((0,p.W)(t))}let f=(0,b.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-layit-yellow text-layit-blue hover:bg-layit-orange",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-layit-blue bg-background text-layit-blue hover:bg-layit-yellow",secondary:"bg-layit-orange text-layit-light hover:bg-layit-yellow hover:text-layit-blue",ghost:"hover:bg-layit-yellow hover:text-layit-blue",link:"text-layit-blue underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=x.forwardRef((e,t)=>{let{className:l,variant:s,size:a,asChild:r=!1,...n}=e,o=r?u.g7:"button";return(0,i.jsx)(o,{className:j(f({variant:s,size:a,className:l})),ref:t,...n})});g.displayName="Button";let N=x.forwardRef((e,t)=>{let{className:l,type:s,...a}=e;return(0,i.jsx)("input",{type:s,className:j("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l),ref:t,...a})});N.displayName="Input";var w=l(1107);let v=(0,b.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),C=x.forwardRef((e,t)=>{let{className:l,...s}=e;return(0,i.jsx)(w.f,{ref:t,className:j(v(),l),...s})});C.displayName=w.f.displayName;var k=l(3559),E=l(9076),S=l(7119);let T=S.Km(["mm","cm","m","in","ft"]),R=S.Km(["rectangle","l-shape","square","custom"]),L=S.Km(["grid","brick","herringbone"]),M=S.Ry({length:S.Rx().min(.1,"Length must be greater than 0").max(1e3,"Length too large"),width:S.Rx().min(.1,"Width must be greater than 0").max(1e3,"Width too large"),unit:T}),W=S.Ry({length:S.Rx().min(1,"Tile length must be at least 1").max(2e3,"Tile length too large"),width:S.Rx().min(1,"Tile width must be at least 1").max(2e3,"Tile width too large"),unit:T,groutWidth:S.Rx().min(0,"Grout width cannot be negative").max(50,"Grout width too large")}),P=S.Ry({shape:R,dimensions:M,pattern:L});S.Ry({id:S.Z_().uuid().optional(),name:S.Z_().min(1,"Project name is required").max(100,"Name too long"),createdAt:S.hT().optional(),updatedAt:S.hT().optional(),layout:P,tile:W,calculations:S.Ry({totalArea:S.Rx(),tileArea:S.Rx(),totalTiles:S.Rx(),fullTiles:S.Rx(),cutTiles:S.Rx(),wastePercentage:S.Rx(),groutArea:S.Rx(),coverage:S.Rx()}).optional()}),S.Ry({shape:R});let A=S.Ry({length:S.Z_().min(1,"Length is required").refine(e=>!isNaN(Number(e))&&Number(e)>0,"Must be a valid positive number"),width:S.Z_().min(1,"Width is required").refine(e=>!isNaN(Number(e))&&Number(e)>0,"Must be a valid positive number"),unit:T}).transform(e=>({...e,length:Number(e.length),width:Number(e.width)}));S.Ry({length:S.Z_().min(1,"Tile length is required").refine(e=>!isNaN(Number(e))&&Number(e)>0,"Must be a valid positive number"),width:S.Z_().min(1,"Tile width is required").refine(e=>!isNaN(Number(e))&&Number(e)>0,"Must be a valid positive number"),unit:T,groutWidth:S.Z_().refine(e=>!isNaN(Number(e))&&Number(e)>=0,"Must be a valid non-negative number")}).transform(e=>({...e,length:Number(e.length),width:Number(e.width),groutWidth:Number(e.groutWidth)})),S.Ry({pattern:L}),S.Ry({name:S.Z_().min(1,"Project name is required").max(100,"Name too long")});var I=l(3438);let F=[{value:"m",label:"Meters (m)",category:"metric"},{value:"cm",label:"Centimeters (cm)",category:"metric"},{value:"mm",label:"Millimeters (mm)",category:"metric"},{value:"ft",label:"Feet (ft)",category:"imperial"},{value:"in",label:"Inches (in)",category:"imperial"}];function D(){var e,t,l,a,r;let{currentProject:n,setLayoutDimensions:c,nextStep:d}=(0,s.i)(),[u,b]=(0,x.useState)((null===(e=n.layout)||void 0===e?void 0:e.dimensions.unit)||"m"),{register:p,handleSubmit:y,formState:{errors:j,isValid:f},watch:w,setValue:v,trigger:S}=(0,h.cI)({resolver:(0,m.F)(A),defaultValues:{length:(null===(l=n.layout)||void 0===l?void 0:null===(t=l.dimensions.length)||void 0===t?void 0:t.toString())||"",width:(null===(r=n.layout)||void 0===r?void 0:null===(a=r.dimensions.width)||void 0===a?void 0:a.toString())||"",unit:u},mode:"onChange"}),T=w("length"),R=w("width");(0,x.useEffect)(()=>{v("unit",u),S()},[u,v,S]);let L=e=>{b(e)},M=(0,x.useMemo)(()=>{let e=parseFloat(T||"0"),t=parseFloat(R||"0");return e>0&&t>0?{length:e,width:t,area:e*t,perimeter:2*(e+t)}:null},[T,R]),W=(()=>{let e,t;if(!M)return null;let l=M.length/M.width;l>440/240?(e=440,t=440/l):(t=240,e=240*l);let i=(500-e)/2,s=(300-t)/2;return{roomRect:{x:i,y:s,width:e,height:t},topLabel:{x:i+e/2,y:s-20},leftLabel:{x:i-25,y:s+t/2}}})(),P=(0,I.Ft)(u);return(0,i.jsxs)("form",{onSubmit:y(e=>{c(e.length,e.width,e.unit),d()}),className:"space-y-6",children:[(0,i.jsxs)("div",{className:"text-center mb-8",children:[(0,i.jsx)("h1",{className:"text-4xl font-bold mb-4 text-layit-blue uppercase",style:{textShadow:"3px 3px 0px #EB8317"},children:"ROOM DIMENSIONS"}),(0,i.jsx)("p",{className:"text-layit-blue font-bold text-lg",children:"Measure your room carefully for accurate tile calculations"})]}),(0,i.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,i.jsxs)("div",{className:"bg-layit-white border-4 border-layit-blue p-8",style:{boxShadow:"8px 8px 0px #10375C"},children:[(0,i.jsxs)("h2",{className:"text-xl font-bold mb-6 uppercase text-layit-blue flex items-center gap-3",children:[(0,i.jsx)(k.Z,{className:"w-6 h-6"}),"Measurement Unit"]}),(0,i.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:F.map(e=>(0,i.jsx)("button",{type:"button",onClick:()=>L(e.value),"aria-pressed":u===e.value,className:"font-bold uppercase py-3 px-4 border-3 transition-all duration-200 ".concat(u===e.value?"bg-layit-blue text-layit-white border-layit-orange":"bg-layit-white text-layit-blue border-layit-blue hover:bg-layit-orange hover:text-layit-white"),style:u===e.value?{boxShadow:"4px 4px 0px #F3C623"}:{},children:e.label},e.value))})]})}),(0,i.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,i.jsxs)("div",{className:"bg-layit-white border-4 border-layit-blue p-8",style:{boxShadow:"8px 8px 0px #10375C"},children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-6 uppercase text-layit-blue",children:"Room Measurements"}),(0,i.jsxs)("p",{className:"text-layit-blue font-bold mb-6",children:["Enter the length and width of your room in ",u]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(C,{htmlFor:"length",className:"block text-sm font-bold uppercase mb-3 text-layit-blue",children:"LENGTH (HORIZONTAL)"}),(0,i.jsx)(N,{id:"length",type:"number",step:P,min:"0.1",max:"1000",placeholder:"0.0",...p("length"),className:"w-full border-4 p-4 text-lg font-bold text-center uppercase text-layit-blue placeholder-gray-400 ".concat(j.length?"border-red-500":"border-layit-blue"),style:{boxShadow:j.length?"none":"4px 4px 0px #F3C623"},"aria-invalid":!!j.length,"aria-describedby":j.length?"length-error":void 0}),j.length&&(0,i.jsxs)("p",{id:"length-error",className:"bg-red-600 text-white font-bold text-sm mt-2 uppercase px-3 py-2 border-2 border-red-700",children:["✗ ",j.length.message]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(C,{htmlFor:"width",className:"block text-sm font-bold uppercase mb-3 text-layit-blue",children:"WIDTH (VERTICAL)"}),(0,i.jsx)(N,{id:"width",type:"number",step:P,min:"0.1",max:"1000",placeholder:"0.0",...p("width"),className:"w-full border-4 p-4 text-lg font-bold text-center uppercase text-layit-blue placeholder-gray-400 ".concat(j.width?"border-red-500":"border-layit-blue"),style:{boxShadow:j.width?"none":"4px 4px 0px #F3C623"},"aria-invalid":!!j.width,"aria-describedby":j.width?"width-error":void 0}),j.width&&(0,i.jsxs)("p",{id:"width-error",className:"bg-red-600 text-white font-bold text-sm mt-2 uppercase px-3 py-2 border-2 border-red-700",children:["✗ ",j.width.message]})]})]}),(0,i.jsx)("div",{className:"flex justify-center mt-8",children:(0,i.jsxs)("button",{type:"button",onClick:()=>{v("length",R),v("width",T),S()},disabled:!T||!R,className:"flex items-center gap-3 bg-layit-white border-4 border-layit-blue text-layit-blue font-bold uppercase px-6 py-3 transition-all duration-200 hover:bg-layit-orange hover:text-layit-white disabled:opacity-50 disabled:cursor-not-allowed",style:{boxShadow:"4px 4px 0px #10375C"},children:[(0,i.jsx)(E.Z,{className:"w-5 h-5"}),"SWAP DIMENSIONS"]})})]})}),M&&(0,i.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"bg-layit-yellow border-4 border-layit-blue p-6",style:{boxShadow:"4px 4px 0px #EB8317"},children:[(0,i.jsx)("p",{className:"text-xs font-bold uppercase text-layit-blue mb-2",children:"TOTAL AREA"}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-layit-blue",children:[M.area.toFixed(1)," ",u,"\xb2"]})]}),(0,i.jsxs)("div",{className:"bg-layit-yellow border-4 border-layit-blue p-6",style:{boxShadow:"4px 4px 0px #EB8317"},children:[(0,i.jsx)("p",{className:"text-xs font-bold uppercase text-layit-blue mb-2",children:"PERIMETER"}),(0,i.jsxs)("p",{className:"text-2xl font-bold text-layit-blue",children:[M.perimeter.toFixed(1)," ",u]})]})]}),(0,i.jsxs)("div",{className:"bg-layit-white border-6 border-layit-blue p-6 overflow-auto",style:{boxShadow:"6px 6px 0px #10375C"},children:[(0,i.jsx)("p",{className:"text-sm font-bold uppercase text-layit-blue mb-4",children:"Visual Preview"}),(0,i.jsx)("svg",{viewBox:"0 0 500 300",className:"w-full border-2 border-dashed border-gray-400",style:{background:"linear-gradient(135deg, rgba(243,198,35,0.05) 25%, transparent 25%, transparent 75%, rgba(243,198,35,0.05) 75%, rgba(243,198,35,0.05)), linear-gradient(135deg, rgba(243,198,35,0.05) 25%, transparent 25%, transparent 75%, rgba(243,198,35,0.05) 75%, rgba(243,198,35,0.05))"},role:"img","aria-label":"Room preview: ".concat(M.length," x ").concat(M.width," ").concat(u),children:W&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("defs",{children:(0,i.jsx)("pattern",{id:"grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:(0,i.jsx)("circle",{cx:"10",cy:"10",r:"1",fill:"#10375C",opacity:"0.2"})})}),(0,i.jsx)("rect",{width:"500",height:"300",fill:"url(#grid)"}),(0,i.jsx)("rect",{x:W.roomRect.x,y:W.roomRect.y,width:W.roomRect.width,height:W.roomRect.height,stroke:"#10375C",strokeWidth:"4",fill:"rgba(243,198,35,0.15)"}),(0,i.jsxs)("text",{x:W.topLabel.x,y:W.topLabel.y,textAnchor:"middle",className:"text-sm font-bold fill-layit-blue","aria-hidden":"true",children:[M.length.toFixed(1)," ",u]}),(0,i.jsxs)("text",{x:W.leftLabel.x,y:W.leftLabel.y+5,textAnchor:"end",className:"text-sm font-bold fill-layit-blue","aria-hidden":"true",children:[M.width.toFixed(1)," ",u]})]})})]})]}),(0,i.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:(0,i.jsxs)("div",{className:"bg-layit-white border-4 border-layit-blue p-6 text-layit-blue",style:{boxShadow:"4px 4px 0px #10375C"},children:[(0,i.jsx)("h3",{className:"text-lg font-bold uppercase mb-4",children:"\uD83D\uDCA1 MEASURING TIPS"}),(0,i.jsxs)("ul",{className:"space-y-3 font-bold",children:[(0,i.jsxs)("li",{className:"flex items-start gap-3",children:[(0,i.jsx)("span",{className:"text-xl",children:"•"}),(0,i.jsx)("span",{children:"Measure the longest walls for length and width"})]}),(0,i.jsxs)("li",{className:"flex items-start gap-3",children:[(0,i.jsx)("span",{className:"text-xl",children:"•"}),(0,i.jsx)("span",{children:"Account for any obstacles like cabinets or fixtures"})]}),(0,i.jsxs)("li",{className:"flex items-start gap-3",children:[(0,i.jsx)("span",{className:"text-xl",children:"•"}),(0,i.jsx)("span",{children:"Double-check your measurements before continuing"})]}),(0,i.jsxs)("li",{className:"flex items-start gap-3",children:[(0,i.jsx)("span",{className:"text-xl",children:"•"}),(0,i.jsx)("span",{children:"Use a tape measure for accurate results (avoid visual estimates)"})]})]})]})}),(0,i.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex justify-center gap-6 pt-6",children:(0,i.jsx)(g,{type:"submit",disabled:!f,className:"bg-layit-blue text-layit-white border-4 border-layit-blue font-bold uppercase px-8 py-6 text-lg hover:bg-layit-orange hover:border-layit-orange transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",style:{boxShadow:f?"6px 6px 0px #F3C623":"none"},children:"CONTINUE →"})})]})}let _=x.forwardRef((e,t)=>{let{className:l,...s}=e;return(0,i.jsx)("div",{ref:t,className:j("rounded-lg border bg-card text-card-foreground shadow-sm",l),...s})});_.displayName="Card";let O=x.forwardRef((e,t)=>{let{className:l,...s}=e;return(0,i.jsx)("div",{ref:t,className:j("flex flex-col space-y-1.5 p-6",l),...s})});O.displayName="CardHeader";let U=x.forwardRef((e,t)=>{let{className:l,...s}=e;return(0,i.jsx)("h3",{ref:t,className:j("text-2xl font-semibold leading-none tracking-tight",l),...s})});U.displayName="CardTitle";let B=x.forwardRef((e,t)=>{let{className:l,...s}=e;return(0,i.jsx)("p",{ref:t,className:j("text-sm text-muted-foreground",l),...s})});B.displayName="CardDescription";let Z=x.forwardRef((e,t)=>{let{className:l,...s}=e;return(0,i.jsx)("div",{ref:t,className:j("p-6 pt-0",l),...s})});Z.displayName="CardContent",x.forwardRef((e,t)=>{let{className:l,...s}=e;return(0,i.jsx)("div",{ref:t,className:j("flex items-center p-6 pt-0",l),...s})}).displayName="CardFooter";let G=[{length:30,width:30,unit:"cm",label:"30\xd730 cm",description:"Common"},{length:60,width:60,unit:"cm",label:"60\xd760 cm",description:"Large"},{length:20,width:20,unit:"cm",label:"20\xd720 cm",description:"Small"},{length:15,width:15,unit:"cm",label:"15\xd715 cm",description:"Mosaic"}],z=[{width:2,label:"2 mm",description:"Ceramic tiles - tight"},{width:3,label:"3 mm",description:"Standard ceramic"},{width:5,label:"5 mm",description:"Floor tiles"},{width:10,label:"10 mm",description:"Decorative/rustic"}];function H(){var e,t,l,a,r,n,c;let{currentProject:d,setTileSpecification:h,nextStep:m,previousStep:u}=(0,s.i)(),b=(null===(e=d.layout)||void 0===e?void 0:e.dimensions.length)||5,p=(null===(t=d.layout)||void 0===t?void 0:t.dimensions.width)||4,y=(null===(l=d.layout)||void 0===l?void 0:l.dimensions.unit)||"m",[f,w]=(0,x.useState)((null===(a=d.tile)||void 0===a?void 0:a.length)||30),[v,k]=(0,x.useState)((null===(r=d.tile)||void 0===r?void 0:r.width)||30),[E,S]=(0,x.useState)((null===(n=d.tile)||void 0===n?void 0:n.unit)||"cm"),[T,R]=(0,x.useState)(G[0].label),[L,M]=(0,x.useState)((null===(c=d.tile)||void 0===c?void 0:c.groutWidth)||3),[W,P]=(0,x.useState)(z[1].label),[A,I]=(0,x.useState)(null),[F,D]=(0,x.useState)(null),[H,V]=(0,x.useState)(null),Y=(e,t)=>e<=0?"Must be greater than 0":"cm"===E&&e>200?"Max ".concat(200," cm (2m)"):"m"===E&&e>2?"Max 2 m per side":null,q=e=>e<0?"Must be 0 or greater":e>20?"Max ".concat(20," mm"):null,K=e=>{w(e.length),k(e.width),S(e.unit),R(e.label),I(null),D(null)},J=e=>{M(e.width),P(e.label),V(null)},X=e=>{let t=parseFloat(e);w(t),R(null),I(Y(t,"length"))},Q=e=>{let t=parseFloat(e);k(t),R(null),D(Y(t,"width"))},$=e=>{let t=parseFloat(e);M(t),P(null),V(q(t))},ee=(0,x.useMemo)(()=>{if(f>0&&v>0){let e=f*v;return"".concat(e.toFixed(0)," ").concat(E,"\xb2")}return null},[f,v,E]),et=(0,x.useMemo)(()=>{let e=0;"m"===y?e=b*p*1e4:"cm"===y&&(e=b*p);let t=0;return("cm"===E?t=f*v:"m"===E&&(t=f*v*1e4),e>0&&t>0)?Math.ceil(e/t*1.05):0},[b,p,y,f,v,E]),el=(0,x.useMemo)(()=>{if(L>0&&f>0){let e=("cm"===E?10*f:1e3*f)+L;return(L/e*100).toFixed(1)}return"0.0"},[L,f,E]),ei=f>0&&v>0&&L>=0&&!A&&!F&&!H;return(0,i.jsxs)("div",{className:"space-y-8",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h2",{className:"text-3xl font-bold text-layit-blue mb-2",style:{textShadow:"3px 3px 0px #EB8317"},children:"TILE & GROUT"}),(0,i.jsx)("p",{className:"text-layit-blue/70 font-semibold",children:"Select tile dimensions and grout width for accurate calculations"})]}),(0,i.jsxs)(_,{className:"block-container",children:[(0,i.jsxs)(O,{children:[(0,i.jsx)(U,{className:"section-title text-layit-blue",children:"1. TILE DIMENSIONS"}),(0,i.jsx)(B,{className:"info-text",children:"Select common tile size or enter custom dimensions (max 2m per side)"})]}),(0,i.jsx)(Z,{children:(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-base font-bold uppercase mb-4 text-layit-blue",children:"QUICK PRESETS"}),(0,i.jsx)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:G.map(e=>(0,i.jsxs)(o.E.button,{whileHover:{scale:1.02,x:-2,y:-2},whileTap:{scale:.98},onClick:()=>K(e),className:j("preset-button",T===e.label&&"active"),children:[(0,i.jsx)("div",{className:"text-2xl mb-2 text-layit-orange",children:"████"}),(0,i.jsx)("div",{className:"text-sm font-bold",children:e.label}),(0,i.jsx)("div",{className:"text-xs opacity-70",children:e.description})]},e.label))}),(0,i.jsxs)("div",{className:"border-t-2 border-dashed border-layit-blue pt-4",children:[(0,i.jsx)("h3",{className:"text-base font-bold uppercase mb-4 text-layit-blue",children:"OR ENTER CUSTOM"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(C,{className:"block text-sm font-bold uppercase mb-2 text-layit-blue",children:"LENGTH"}),(0,i.jsx)(N,{type:"number",value:f,onChange:e=>X(e.target.value),className:j("dimension-input",A&&"border-red-500"),step:"0.1",min:"0.1"}),A&&(0,i.jsx)("p",{className:"text-xs text-red-600 font-bold mt-1",children:A})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(C,{className:"block text-sm font-bold uppercase mb-2 text-layit-blue",children:"WIDTH"}),(0,i.jsx)(N,{type:"number",value:v,onChange:e=>Q(e.target.value),className:j("dimension-input",F&&"border-red-500"),step:"0.1",min:"0.1"}),F&&(0,i.jsx)("p",{className:"text-xs text-red-600 font-bold mt-1",children:F})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(C,{className:"block text-sm font-bold uppercase mb-2 text-layit-blue",children:"UNIT"}),(0,i.jsxs)("select",{value:E,onChange:e=>S(e.target.value),className:"unit-selector w-full",children:[(0,i.jsx)("option",{value:"mm",children:"MM (Millimeters)"}),(0,i.jsx)("option",{value:"cm",children:"CM (Centimeters)"}),(0,i.jsx)("option",{value:"m",children:"M (Meters)"}),(0,i.jsx)("option",{value:"in",children:"IN (Inches)"}),(0,i.jsx)("option",{value:"ft",children:"FT (Feet)"})]})]})]})]}),(0,i.jsxs)("div",{className:"tile-preview",children:[(0,i.jsx)("div",{className:"tile-label",children:"YOUR SELECTED TILE"}),(0,i.jsxs)("div",{className:"tile-size-display text-layit-blue",children:[f,"\xd7",v," ",E.toUpperCase()]}),(0,i.jsxs)("svg",{viewBox:"0 0 200 200",width:"150",height:"150",className:"my-4",children:[(0,i.jsx)("rect",{x:"20",y:"20",width:"160",height:"160",stroke:"#10375C",strokeWidth:"3",fill:"rgba(243, 198, 35, 0.2)"}),(0,i.jsx)("line",{x1:"10",y1:"100",x2:"20",y2:"100",stroke:"#10375C",strokeWidth:"2"}),(0,i.jsx)("line",{x1:"180",y1:"100",x2:"190",y2:"100",stroke:"#10375C",strokeWidth:"2"}),(0,i.jsx)("text",{x:"100",y:"115",textAnchor:"middle",fontSize:"12",fontWeight:"bold",fill:"#10375C",children:"TILE"})]}),ee&&(0,i.jsxs)(o.E.div,{initial:{opacity:0},animate:{opacity:1},className:"info-text text-layit-blue",children:["Area per tile: ",ee]})]})]})})]}),(0,i.jsxs)(_,{className:"block-container",children:[(0,i.jsxs)(O,{children:[(0,i.jsx)(U,{className:"section-title text-layit-blue",children:"2. GROUT WIDTH"}),(0,i.jsx)(B,{className:"info-text",children:"Space between tiles (max 20mm)"})]}),(0,i.jsx)(Z,{children:(0,i.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-base font-bold uppercase mb-4 text-layit-blue",children:"GROUT SETTINGS"}),(0,i.jsx)("div",{className:"grid grid-cols-2 gap-3 mb-6",children:z.map(e=>(0,i.jsxs)(o.E.button,{whileHover:{scale:1.02,x:-2,y:-2},whileTap:{scale:.98},onClick:()=>J(e),className:j("preset-button text-xs",W===e.label&&"active"),children:[(0,i.jsx)("div",{className:"font-bold",children:e.label}),(0,i.jsx)("div",{className:"text-xs opacity-70",children:e.description})]},e.label))}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)(C,{className:"block text-sm font-bold uppercase mb-3 text-layit-blue",children:"CUSTOM GROUT WIDTH"}),(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsx)(N,{type:"number",value:L,onChange:e=>$(e.target.value),className:j("dimension-input flex-1",H&&"border-red-500"),step:"0.5",min:"0"}),(0,i.jsx)("div",{className:"unit-selector px-4 flex items-center",children:"MM"})]}),H&&(0,i.jsx)("p",{className:"text-xs text-red-600 font-bold mt-1",children:H}),(0,i.jsx)("div",{className:"info-text mt-2",children:"Max: 20mm"})]}),(0,i.jsxs)("div",{className:"bg-layit-yellow border-4 border-layit-blue p-4",children:[(0,i.jsx)("h4",{className:"font-bold uppercase mb-2 text-layit-blue text-sm",children:"COMMON GROUT WIDTHS"}),(0,i.jsxs)("ul",{className:"text-xs font-bold text-layit-blue space-y-1",children:[(0,i.jsx)("li",{children:"• 2-3mm: Ceramic wall tiles"}),(0,i.jsx)("li",{children:"• 3-5mm: Standard floor tiles"}),(0,i.jsx)("li",{children:"• 5-8mm: Large format tiles"}),(0,i.jsx)("li",{children:"• 10-20mm: Decorative/rustic style"})]})]})]}),(0,i.jsxs)("div",{className:"grout-preview",children:[(0,i.jsx)("div",{className:"tile-label",children:"GROUT VISUALIZATION"}),(0,i.jsxs)("svg",{viewBox:"0 0 200 200",width:"150",height:"150",className:"my-4",children:[(0,i.jsx)("rect",{x:"20",y:"20",width:"50",height:"50",stroke:"#10375C",strokeWidth:"2",fill:"rgba(243, 198, 35, 0.3)"}),(0,i.jsx)("rect",{x:"75",y:"20",width:"50",height:"50",stroke:"#10375C",strokeWidth:"2",fill:"rgba(243, 198, 35, 0.3)"}),(0,i.jsx)("rect",{x:"130",y:"20",width:"50",height:"50",stroke:"#10375C",strokeWidth:"2",fill:"rgba(243, 198, 35, 0.3)"}),(0,i.jsx)("rect",{x:"20",y:"75",width:"50",height:"50",stroke:"#10375C",strokeWidth:"2",fill:"rgba(243, 198, 35, 0.3)"}),(0,i.jsx)("rect",{x:"75",y:"75",width:"50",height:"50",stroke:"#10375C",strokeWidth:"2",fill:"rgba(243, 198, 35, 0.3)"}),(0,i.jsx)("rect",{x:"130",y:"75",width:"50",height:"50",stroke:"#10375C",strokeWidth:"2",fill:"rgba(243, 198, 35, 0.3)"}),(0,i.jsx)("line",{x1:"70",y1:"20",x2:"70",y2:"125",stroke:"#EB8317",strokeWidth:"3",opacity:"0.7"}),(0,i.jsx)("line",{x1:"20",y1:"70",x2:"180",y2:"70",stroke:"#EB8317",strokeWidth:"3",opacity:"0.7"}),(0,i.jsx)("text",{x:"85",y:"140",textAnchor:"middle",fontSize:"11",fontWeight:"bold",fill:"#EB8317",children:"← GROUT"})]}),(0,i.jsxs)(o.E.div,{initial:{opacity:0},animate:{opacity:1},className:"info-text text-layit-blue",children:["Grout impact: -",el,"% usable area"]})]})]})})]}),(0,i.jsxs)(_,{className:"block-container bg-layit-yellow/30",children:[(0,i.jsx)(O,{children:(0,i.jsx)(U,{className:"section-title text-layit-blue",children:"SUMMARY"})}),(0,i.jsx)(Z,{children:(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-sm font-bold uppercase text-layit-blue/70",children:"ROOM SIZE"}),(0,i.jsxs)("div",{className:"text-xl font-bold text-layit-blue",children:[b,y," \xd7 ",p,y]})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-sm font-bold uppercase text-layit-blue/70",children:"TILE SIZE"}),(0,i.jsxs)("div",{className:"text-xl font-bold text-layit-blue",children:[f,"\xd7",v,E]})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-sm font-bold uppercase text-layit-blue/70",children:"GROUT"}),(0,i.jsxs)("div",{className:"text-xl font-bold text-layit-blue",children:[L," mm"]})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-sm font-bold uppercase text-layit-blue/70",children:"EST. TILES"}),(0,i.jsxs)("div",{className:"text-xl font-bold text-layit-blue",children:["~",et]})]})]})})]}),(0,i.jsxs)("div",{className:"flex justify-between gap-6 pt-4",children:[(0,i.jsx)(g,{onClick:u,className:"btn-secondary",children:"← BACK"}),(0,i.jsx)(g,{onClick:()=>{ei&&(h({length:f,width:v,unit:E,groutWidth:L}),m())},disabled:!ei,className:j("btn-primary",!ei&&"opacity-50 cursor-not-allowed"),children:"CONTINUE →"})]})]})}let V=[{id:"grid",title:"Grid (Straight Lay)",description:"Tiles aligned in straight rows and columns",wastePercentage:10,difficulty:"Easy",installTime:"Fastest",pros:["Easy to install","Minimal waste","Clean, classic look","DIY-friendly"],cons:["Can show imperfections","May feel static","Shows uneven surfaces"],bestFor:["Large tiles","Beginners","Budget projects","Modern spaces"]},{id:"brick",title:"Brick (Running Bond)",description:"Offset pattern like traditional brickwork, 50% stagger",wastePercentage:15,difficulty:"Medium",installTime:"Moderate",pros:["Hides imperfections","Dynamic visual","Traditional appeal","Versatile style"],cons:["More cuts needed","Slightly more complex","Higher waste than grid"],bestFor:["Rectangular tiles","Subway tiles","Classic spaces","Walls & floors"]},{id:"herringbone",title:"Herringbone",description:'Zigzag pattern with tiles at 45\xb0 angles creating a "V" shape',wastePercentage:20,difficulty:"Hard",installTime:"Slowest",pros:["Stunning visual impact","Perceived larger space","Premium look","Timeless elegance"],cons:["Complex installation","Higher waste","More expensive","Requires precision"],bestFor:["Experienced DIYers","Feature walls","High-end projects","Narrow spaces"]}],Y={grid:e=>{let{className:t=""}=e;return(0,i.jsx)("svg",{viewBox:"0 0 120 120",className:j("w-full h-full",t),children:Array.from({length:9}).map((e,t)=>{let l=Math.floor(t/3),s=t%3;return(0,i.jsx)("rect",{x:40*s+2,y:40*l+2,width:36,height:36,fill:["#F3C623","#EB8317","#10375C"][t%3],stroke:"#10375C",strokeWidth:"2",opacity:"0.9"},t)})})},brick:e=>{let{className:t=""}=e;return(0,i.jsxs)("svg",{viewBox:"0 0 120 120",className:j("w-full h-full",t),children:[(0,i.jsx)("rect",{x:"2",y:"2",width:"36",height:"26",fill:"#F3C623",stroke:"#10375C",strokeWidth:"2",opacity:"0.9"}),(0,i.jsx)("rect",{x:"40",y:"2",width:"36",height:"26",fill:"#EB8317",stroke:"#10375C",strokeWidth:"2",opacity:"0.9"}),(0,i.jsx)("rect",{x:"78",y:"2",width:"36",height:"26",fill:"#F3C623",stroke:"#10375C",strokeWidth:"2",opacity:"0.9"}),(0,i.jsx)("rect",{x:"2",y:"30",width:"18",height:"26",fill:"#EB8317",stroke:"#10375C",strokeWidth:"2",opacity:"0.9"}),(0,i.jsx)("rect",{x:"22",y:"30",width:"36",height:"26",fill:"#10375C",stroke:"#10375C",strokeWidth:"2",opacity:"0.9"}),(0,i.jsx)("rect",{x:"60",y:"30",width:"36",height:"26",fill:"#EB8317",stroke:"#10375C",strokeWidth:"2",opacity:"0.9"}),(0,i.jsx)("rect",{x:"98",y:"30",width:"18",height:"26",fill:"#F3C623",stroke:"#10375C",strokeWidth:"2",opacity:"0.9"}),(0,i.jsx)("rect",{x:"2",y:"58",width:"36",height:"26",fill:"#F3C623",stroke:"#10375C",strokeWidth:"2",opacity:"0.9"}),(0,i.jsx)("rect",{x:"40",y:"58",width:"36",height:"26",fill:"#EB8317",stroke:"#10375C",strokeWidth:"2",opacity:"0.9"}),(0,i.jsx)("rect",{x:"78",y:"58",width:"36",height:"26",fill:"#10375C",stroke:"#10375C",strokeWidth:"2",opacity:"0.9"}),(0,i.jsx)("rect",{x:"2",y:"86",width:"18",height:"26",fill:"#EB8317",stroke:"#10375C",strokeWidth:"2",opacity:"0.9"}),(0,i.jsx)("rect",{x:"22",y:"86",width:"36",height:"26",fill:"#F3C623",stroke:"#10375C",strokeWidth:"2",opacity:"0.9"}),(0,i.jsx)("rect",{x:"60",y:"86",width:"36",height:"26",fill:"#EB8317",stroke:"#10375C",strokeWidth:"2",opacity:"0.9"}),(0,i.jsx)("rect",{x:"98",y:"86",width:"18",height:"26",fill:"#10375C",stroke:"#10375C",strokeWidth:"2",opacity:"0.9"})]})},herringbone:e=>{let{className:t=""}=e;return(0,i.jsxs)("svg",{viewBox:"0 0 120 120",className:j("w-full h-full",t),children:[(0,i.jsx)("rect",{x:"10",y:"30",width:"40",height:"15",fill:"#F3C623",stroke:"#10375C",strokeWidth:"2",transform:"rotate(-45 30 37)",opacity:"0.9"}),(0,i.jsx)("rect",{x:"30",y:"10",width:"15",height:"40",fill:"#EB8317",stroke:"#10375C",strokeWidth:"2",transform:"rotate(-45 37 30)",opacity:"0.9"}),(0,i.jsx)("rect",{x:"40",y:"50",width:"40",height:"15",fill:"#10375C",stroke:"#10375C",strokeWidth:"2",transform:"rotate(-45 60 57)",opacity:"0.9"}),(0,i.jsx)("rect",{x:"60",y:"30",width:"15",height:"40",fill:"#F3C623",stroke:"#10375C",strokeWidth:"2",transform:"rotate(-45 67 50)",opacity:"0.9"}),(0,i.jsx)("rect",{x:"70",y:"70",width:"40",height:"15",fill:"#EB8317",stroke:"#10375C",strokeWidth:"2",transform:"rotate(-45 90 77)",opacity:"0.9"}),(0,i.jsx)("rect",{x:"50",y:"70",width:"15",height:"40",fill:"#10375C",stroke:"#10375C",strokeWidth:"2",transform:"rotate(-45 57 90)",opacity:"0.9"}),(0,i.jsx)("rect",{x:"10",y:"70",width:"40",height:"15",fill:"#F3C623",stroke:"#10375C",strokeWidth:"2",transform:"rotate(-45 30 77)",opacity:"0.9"}),(0,i.jsx)("rect",{x:"70",y:"30",width:"40",height:"15",fill:"#EB8317",stroke:"#10375C",strokeWidth:"2",transform:"rotate(-45 90 37)",opacity:"0.9"})]})}};function q(){var e;let{currentProject:t,setLayoutPattern:l,nextStep:a,previousStep:r}=(0,s.i)(),[c,d]=(0,x.useState)((null===(e=t.layout)||void 0===e?void 0:e.pattern)||"grid"),[h,m]=(0,x.useState)(null),u=e=>{d(e),l(e)},b=V.find(e=>e.id===c),p={Easy:"text-green-600 bg-green-100",Medium:"text-orange-600 bg-orange-100",Hard:"text-red-600 bg-red-100"};return(0,i.jsxs)("div",{className:"space-y-8",children:[(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h2",{className:"text-3xl font-bold text-layit-blue mb-2",style:{textShadow:"3px 3px 0px #EB8317"},children:"LAYOUT PATTERN"}),(0,i.jsx)("p",{className:"text-layit-blue/70 font-semibold",children:"Choose how your tiles will be arranged. Each pattern affects installation difficulty and waste."})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:V.map(e=>{let t=c===e.id,l=h===e.id,s=Y[e.id];return(0,i.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},onMouseEnter:()=>m(e.id),onMouseLeave:()=>m(null),children:(0,i.jsxs)("button",{onClick:()=>u(e.id),className:j("w-full text-left transition-all duration-200","preset-button h-full flex flex-col",t&&"active",!t&&l&&"hover:scale-[1.02]"),"aria-label":"Select ".concat(e.title," pattern"),"aria-pressed":t,children:[(0,i.jsx)("div",{className:j("w-full aspect-square border-4 mb-4 p-4 flex items-center justify-center transition-all",t?"border-layit-orange bg-layit-yellow/20":"border-layit-blue bg-layit-white"),children:(0,i.jsx)(o.E.div,{animate:t?{scale:[1,1.05,1]}:{},transition:{duration:.5,repeat:t?1/0:0,repeatDelay:2},className:"w-full h-full",children:(0,i.jsx)(s,{className:"w-full h-full"})})}),(0,i.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,i.jsx)("h3",{className:"text-lg font-bold uppercase mb-2 text-layit-blue",children:e.title}),(0,i.jsx)("p",{className:"text-xs font-semibold text-layit-blue/70 mb-4",children:e.description}),(0,i.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-xs font-bold text-layit-blue/70",children:"DIFFICULTY:"}),(0,i.jsx)("span",{className:j("text-xs font-bold px-2 py-1 rounded",p[e.difficulty]),children:e.difficulty})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-xs font-bold text-layit-blue/70",children:"WASTE:"}),(0,i.jsxs)("span",{className:"text-xs font-bold text-layit-blue",children:[e.wastePercentage,"%"]})]}),(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("span",{className:"text-xs font-bold text-layit-blue/70",children:"INSTALL TIME:"}),(0,i.jsx)("span",{className:"text-xs font-bold text-layit-blue",children:e.installTime})]})]}),(0,i.jsx)(n.M,{children:t&&(0,i.jsx)(o.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-auto pt-3 border-t-4 border-layit-orange",children:(0,i.jsx)("div",{className:"bg-layit-blue text-layit-white px-3 py-2 text-center font-bold uppercase text-sm",children:"✓ SELECTED"})})})]})]})},e.id)})}),(0,i.jsx)(n.M,{mode:"wait",children:c&&(0,i.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:(0,i.jsxs)(_,{className:"block-container",children:[(0,i.jsxs)(O,{children:[(0,i.jsxs)(U,{className:"section-title text-layit-blue flex items-center gap-3",children:[(0,i.jsx)("div",{className:"w-16 h-16 border-4 border-layit-blue bg-layit-white p-2",children:x.createElement(Y[c],{className:"w-full h-full"})}),b.title," DETAILS"]}),(0,i.jsx)(B,{className:"info-text",children:"Everything you need to know about this pattern"})]}),(0,i.jsx)(Z,{children:(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-bold uppercase mb-3 text-layit-blue text-sm border-b-2 border-layit-yellow pb-2",children:"✓ ADVANTAGES"}),(0,i.jsx)("ul",{className:"space-y-2",children:b.pros.map((e,t)=>(0,i.jsxs)(o.E.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"text-sm font-semibold text-green-700 flex items-start",children:[(0,i.jsx)("span",{className:"mr-2",children:"•"}),(0,i.jsx)("span",{children:e})]},t))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-bold uppercase mb-3 text-layit-blue text-sm border-b-2 border-layit-orange pb-2",children:"⚠ CONSIDERATIONS"}),(0,i.jsx)("ul",{className:"space-y-2",children:b.cons.map((e,t)=>(0,i.jsxs)(o.E.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*t+.3},className:"text-sm font-semibold text-orange-700 flex items-start",children:[(0,i.jsx)("span",{className:"mr-2",children:"•"}),(0,i.jsx)("span",{children:e})]},t))})]})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-bold uppercase mb-3 text-layit-blue text-sm border-b-2 border-layit-blue pb-2",children:"\uD83D\uDC4D BEST FOR"}),(0,i.jsx)("ul",{className:"space-y-2",children:b.bestFor.map((e,t)=>(0,i.jsxs)(o.E.li,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"text-sm font-semibold text-layit-blue flex items-start",children:[(0,i.jsx)("span",{className:"mr-2",children:"→"}),(0,i.jsx)("span",{children:e})]},t))})]}),(0,i.jsxs)("div",{className:"bg-layit-yellow/20 border-4 border-layit-blue p-4",children:[(0,i.jsx)("h4",{className:"font-bold uppercase mb-3 text-layit-blue text-sm",children:"\uD83D\uDCCB INSTALLATION SUMMARY"}),(0,i.jsxs)("div",{className:"space-y-2 text-sm font-semibold text-layit-blue",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{children:"Difficulty Level:"}),(0,i.jsx)("span",{className:j("px-2 py-0.5 rounded font-bold",p[b.difficulty]),children:b.difficulty})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{children:"Waste Factor:"}),(0,i.jsxs)("span",{className:"font-bold",children:[b.wastePercentage,"%"]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{children:"Installation Time:"}),(0,i.jsx)("span",{className:"font-bold",children:b.installTime})]})]})]})]})]})})]})},c)}),(0,i.jsxs)("div",{className:"flex justify-between gap-6 pt-4",children:[(0,i.jsx)(g,{onClick:r,className:"btn-secondary","aria-label":"Go back to previous step",children:"← BACK"}),(0,i.jsx)(g,{onClick:()=>{a()},disabled:!c,className:j("btn-primary",!c&&"opacity-50 cursor-not-allowed"),"aria-label":"Continue to results",children:"VIEW RESULTS →"})]})]})}var K=l(6865),J=l(3618),X=l(3391),Q=l(525),$=l(3229),ee=l(2735),et=l(4394);function el(e){let{project:t,width:l=400,height:s=300,showGrid:a=!0,showDimensions:r=!0,className:n=""}=e,c=(0,x.useMemo)(()=>t.layout&&t.tile?function(e,t,l){let{layout:i,tile:s}=e;if(!i||!s)return null;let a=(0,I.m7)(i.dimensions.length,i.dimensions.unit),r=(0,I.m7)(i.dimensions.width,i.dimensions.unit),n=(0,I.m7)(s.length,s.unit),o=(0,I.m7)(s.width,s.unit),c=(0,I.m7)(s.groutWidth,s.unit),d=Math.min((t-40)/a,(l-40)/r),x=a*d,h=r*d,m=Math.max(.5,c*d),u=(t-x)/2,b=(l-h)/2,p="";switch(i.shape){case"rectangle":case"square":default:p="M ".concat(u," ").concat(b," L ").concat(u+x," ").concat(b," L ").concat(u+x," ").concat(b+h," L ").concat(u," ").concat(b+h," Z");break;case"l-shape":let y=.6*x,j=.6*h;p="M ".concat(u," ").concat(b," L ").concat(u+y," ").concat(b," L ").concat(u+y," ").concat(b+j," L ").concat(u+x," ").concat(b+j," L ").concat(u+x," ").concat(b+h," L ").concat(u," ").concat(b+h," Z");break;case"custom":var f;(null===(f=i.customLayout)||void 0===f?void 0:f.points)&&(p=function(e,t,l,i){if(e.length<3)return"";let s=e.map(e=>({x:t+e.x*i,y:l+e.y*i})),a="M ".concat(s[0].x," ").concat(s[0].y);for(let e=1;e<s.length;e++)a+=" L ".concat(s[e].x," ").concat(s[e].y);return a+" Z"}(i.customLayout.points,u,b,d))}return{roomPath:p,tiles:function(e,t,l,i,s,a,r,n){let o=[],c=Math.floor((i+n)/(a+n)),d=Math.floor((s+n)/(r+n));for(let x=0;x<d;x++)for(let d=0;d<c;d++){let c=t+d*(a+n),h=l+x*(r+n),m=a,u=r,b=!1;"brick"===e?x%2==1&&(c+=a/2):"herringbone"===e&&(x+d)%2==1&&(m=r,u=a),(c+m>t+i-2||h+u>l+s-2)&&(b=!0,m=Math.min(m,t+i-c-2),u=Math.min(u,l+s-h-2)),m>2&&u>2&&o.push({x:c,y:h,width:m,height:u,isCut:b})}return o}(i.pattern,u,b,x,h,n*d,o*d,m),groutWidth:m,dimensions:{lengthLabel:"".concat(i.dimensions.length).concat(i.dimensions.unit),widthLabel:"".concat(i.dimensions.width).concat(i.dimensions.unit)}}}(t,l,s):null,[t,l,s]);return c?(0,i.jsxs)("div",{className:"relative ".concat(n),children:[(0,i.jsxs)("svg",{width:l,height:s,viewBox:"0 0 ".concat(l," ").concat(s),className:"border-4 border-layit-blue bg-layit-white",children:[(0,i.jsx)("rect",{x:"0",y:"0",width:l,height:s,fill:"#F4F6FF",stroke:"none"}),(0,i.jsx)("path",{d:c.roomPath,fill:"none",stroke:"#10375C",strokeWidth:"3",strokeDasharray:"8,4"}),c.tiles.map((e,t)=>(0,i.jsxs)(o.E.g,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.01*t,duration:.2},children:[(0,i.jsx)("rect",{x:e.x,y:e.y,width:e.width,height:e.height,fill:e.isCut?"#F3C623":"#EB8317",stroke:"#10375C",strokeWidth:"0.5",opacity:.8}),a&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("rect",{x:e.x+e.width,y:e.y,width:c.groutWidth,height:e.height+c.groutWidth,fill:"#10375C",opacity:.3}),(0,i.jsx)("rect",{x:e.x,y:e.y+e.height,width:e.width+c.groutWidth,height:c.groutWidth,fill:"#10375C",opacity:.3})]})]},t)),"brick"===t.layout.pattern&&(0,i.jsx)("defs",{children:(0,i.jsxs)("pattern",{id:"brickPattern",patternUnits:"userSpaceOnUse",width:"20",height:"10",children:[(0,i.jsx)("rect",{width:"20",height:"10",fill:"none"}),(0,i.jsx)("line",{x1:"0",y1:"5",x2:"20",y2:"5",stroke:"#10375C",strokeWidth:"0.5",opacity:"0.3"})]})}),r&&c.dimensions&&(0,i.jsxs)("g",{children:[(0,i.jsx)("line",{x1:20,y1:s-15,x2:l-20,y2:s-15,stroke:"#10375C",strokeWidth:"1",markerEnd:"url(#arrowhead)",markerStart:"url(#arrowhead)"}),(0,i.jsx)("text",{x:l/2,y:s-5,textAnchor:"middle",className:"fill-layit-blue text-xs font-bold",children:c.dimensions.lengthLabel}),(0,i.jsx)("line",{x1:15,y1:20,x2:15,y2:s-20,stroke:"#10375C",strokeWidth:"1",markerEnd:"url(#arrowhead)",markerStart:"url(#arrowhead)"}),(0,i.jsx)("text",{x:8,y:s/2,textAnchor:"middle",className:"fill-layit-blue text-xs font-bold",transform:"rotate(-90 8 ".concat(s/2,")"),children:c.dimensions.widthLabel})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto",children:(0,i.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#10375C"})})})]}),(0,i.jsxs)("div",{className:"absolute bottom-2 right-2 bg-layit-white/90 border-2 border-layit-blue p-2 text-xs",children:[(0,i.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,i.jsx)("div",{className:"w-3 h-3 bg-layit-orange border border-layit-blue"}),(0,i.jsx)("span",{className:"text-layit-blue font-medium",children:"Full Tiles"})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)("div",{className:"w-3 h-3 bg-layit-yellow border border-layit-blue"}),(0,i.jsx)("span",{className:"text-layit-blue font-medium",children:"Cut Tiles"})]})]})]}):(0,i.jsx)("div",{className:"flex items-center justify-center bg-gray-100 border-2 border-dashed border-gray-300 ".concat(n),style:{width:l,height:s},children:(0,i.jsx)("p",{className:"text-gray-500 text-sm",children:"No tile layout data available"})})}function ei(){let{currentProject:e,calculateProject:t,isLoading:l,error:a}=(0,s.i)();if((0,x.useEffect)(()=>{t()},[t]),!e.layout||!e.tile)return(0,i.jsxs)("div",{className:"text-center py-8",children:[(0,i.jsx)(K.Z,{className:"w-16 h-16 text-layit-orange mx-auto mb-4"}),(0,i.jsx)("p",{className:"text-layit-blue font-medium",children:"Project data incomplete. Please complete all steps."})]});if(l)return(0,i.jsxs)("div",{className:"text-center py-12",children:[(0,i.jsx)(o.E.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-layit-blue border-t-layit-orange rounded-full mx-auto mb-4"}),(0,i.jsx)("p",{className:"text-layit-blue font-medium",children:"Calculating your tiling project..."})]});if(a)return(0,i.jsxs)("div",{className:"text-center py-8",children:[(0,i.jsx)(K.Z,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,i.jsxs)("p",{className:"text-red-600 font-medium",children:["Error: ",a]}),(0,i.jsx)(g,{onClick:t,className:"mt-4",children:"Try Again"})]});let{layout:r,tile:n,calculations:c}=e;if(!c)return(0,i.jsxs)("div",{className:"text-center py-8",children:[(0,i.jsx)("p",{className:"text-layit-blue/70",children:"Unable to calculate results. Please check your inputs."}),(0,i.jsx)(g,{onClick:t,className:"mt-4",children:"Recalculate"})]});let d=r.dimensions.unit,h=n.unit;return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"text-center mb-8",children:[(0,i.jsx)("h3",{className:"text-xl font-bold text-layit-blue mb-2 uppercase",children:"PROJECT RESULTS"}),(0,i.jsx)("p",{className:"text-layit-blue/70 font-medium",children:"Your complete tiling calculation with material requirements"})]}),(0,i.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,i.jsxs)(_,{className:"bg-gradient-to-r from-layit-yellow/10 to-layit-orange/10 border-4 border-layit-blue",children:[(0,i.jsxs)(O,{children:[(0,i.jsxs)(U,{className:"text-lg flex items-center gap-2 text-layit-blue",children:[(0,i.jsx)(J.Z,{className:"h-5 w-5"}),"PROJECT SUMMARY"]}),(0,i.jsxs)(B,{className:"font-medium text-layit-blue/70",children:[r.shape.toUpperCase(),": ",r.dimensions.length," \xd7 ",r.dimensions.width," ",d," | TILE: ",n.length," \xd7 ",n.width," ",h," | PATTERN: ",r.pattern.toUpperCase()]})]}),(0,i.jsx)(Z,{children:(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,i.jsxs)(o.E.div,{whileHover:{scale:1.05},className:"text-center p-6 bg-layit-white border-4 border-layit-blue shadow-[4px_4px_0px_theme(colors.layit.orange)]",children:[(0,i.jsx)("p",{className:"text-3xl font-bold text-layit-blue",children:c.totalArea}),(0,i.jsxs)("p",{className:"text-sm font-medium text-layit-blue/70 uppercase",children:["Room Area (",d,"\xb2)"]})]}),(0,i.jsxs)(o.E.div,{whileHover:{scale:1.05},className:"text-center p-6 bg-layit-white border-4 border-layit-blue shadow-[4px_4px_0px_theme(colors.layit.orange)]",children:[(0,i.jsx)("p",{className:"text-3xl font-bold text-layit-blue",children:c.totalTiles}),(0,i.jsx)("p",{className:"text-sm font-medium text-layit-blue/70 uppercase",children:"Total Tiles"})]}),(0,i.jsxs)(o.E.div,{whileHover:{scale:1.05},className:"text-center p-6 bg-layit-white border-4 border-layit-blue shadow-[4px_4px_0px_theme(colors.layit.orange)]",children:[(0,i.jsx)("p",{className:"text-3xl font-bold text-layit-blue",children:c.fullTiles}),(0,i.jsx)("p",{className:"text-sm font-medium text-layit-blue/70 uppercase",children:"Full Tiles"})]}),(0,i.jsxs)(o.E.div,{whileHover:{scale:1.05},className:"text-center p-6 bg-layit-white border-4 border-layit-blue shadow-[4px_4px_0px_theme(colors.layit.orange)]",children:[(0,i.jsx)("p",{className:"text-3xl font-bold text-layit-blue",children:c.cutTiles}),(0,i.jsx)("p",{className:"text-sm font-medium text-layit-blue/70 uppercase",children:"Cut Tiles"})]})]})})]})}),(0,i.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:(0,i.jsxs)(_,{className:"border-4 border-layit-blue",children:[(0,i.jsxs)(O,{children:[(0,i.jsxs)(U,{className:"text-base flex items-center gap-2 text-layit-blue",children:[(0,i.jsx)(X.Z,{className:"h-4 w-4"}),"LAYOUT PREVIEW"]}),(0,i.jsxs)(B,{className:"font-medium",children:["Visual representation of your ",r.pattern," tiling pattern"]})]}),(0,i.jsx)(Z,{children:(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)(el,{project:e,width:600,height:400,showGrid:!0,showDimensions:!0,className:"mx-auto"})})})]})}),(0,i.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"grid md:grid-cols-2 gap-6",children:[(0,i.jsxs)(_,{className:"border-4 border-layit-blue",children:[(0,i.jsx)(O,{children:(0,i.jsx)(U,{className:"text-base text-layit-blue uppercase",children:"Area Calculations"})}),(0,i.jsxs)(Z,{className:"space-y-4 font-mono text-sm",children:[(0,i.jsxs)("div",{className:"flex justify-between py-2 border-b border-layit-blue/20",children:[(0,i.jsx)("span",{className:"text-layit-blue/70",children:"Room Area:"}),(0,i.jsx)("span",{className:"font-bold text-layit-blue",children:(0,I.Ru)(c.totalArea,d+"\xb2")})]}),(0,i.jsxs)("div",{className:"flex justify-between py-2 border-b border-layit-blue/20",children:[(0,i.jsx)("span",{className:"text-layit-blue/70",children:"Tile Area:"}),(0,i.jsx)("span",{className:"font-bold text-layit-blue",children:(0,I.Ru)(c.tileArea,"m\xb2")})]}),(0,i.jsxs)("div",{className:"flex justify-between py-2 border-b border-layit-blue/20",children:[(0,i.jsx)("span",{className:"text-layit-blue/70",children:"Grout Area:"}),(0,i.jsx)("span",{className:"font-bold text-layit-blue",children:(0,I.Ru)(c.groutArea,d+"\xb2")})]}),(0,i.jsxs)("div",{className:"flex justify-between py-2 border-b border-layit-blue/20",children:[(0,i.jsx)("span",{className:"text-layit-blue/70",children:"Coverage:"}),(0,i.jsxs)("span",{className:"font-bold text-layit-blue",children:[c.coverage,"%"]})]}),(0,i.jsxs)("div",{className:"flex justify-between py-3 border-t-4 border-layit-orange bg-layit-yellow/10",children:[(0,i.jsx)("span",{className:"text-layit-blue font-bold",children:"WASTE ALLOWANCE:"}),(0,i.jsxs)("span",{className:"font-bold text-layit-blue",children:[c.wastePercentage,"%"]})]})]})]}),(0,i.jsxs)(_,{className:"border-4 border-layit-blue",children:[(0,i.jsx)(O,{children:(0,i.jsxs)(U,{className:"text-base text-layit-blue uppercase flex items-center gap-2",children:[(0,i.jsx)(Q.Z,{className:"h-4 w-4"}),"Material Breakdown"]})}),(0,i.jsxs)(Z,{className:"space-y-4 font-mono text-sm",children:[(0,i.jsxs)("div",{className:"flex justify-between py-2 border-b border-layit-blue/20",children:[(0,i.jsx)("span",{className:"text-layit-blue/70",children:"Full Tiles:"}),(0,i.jsx)("span",{className:"font-bold text-layit-blue",children:c.fullTiles})]}),(0,i.jsxs)("div",{className:"flex justify-between py-2 border-b border-layit-blue/20",children:[(0,i.jsx)("span",{className:"text-layit-blue/70",children:"Tiles to Cut:"}),(0,i.jsx)("span",{className:"font-bold text-layit-blue",children:c.cutTiles})]}),(0,i.jsxs)("div",{className:"flex justify-between py-2 border-b border-layit-blue/20",children:[(0,i.jsx)("span",{className:"text-layit-blue/70",children:"Grout Width:"}),(0,i.jsxs)("span",{className:"font-bold text-layit-blue",children:[n.groutWidth," ",h]})]}),(0,i.jsxs)("div",{className:"flex justify-between py-2 border-b border-layit-blue/20",children:[(0,i.jsx)("span",{className:"text-layit-blue/70",children:"Layout Pattern:"}),(0,i.jsx)("span",{className:"font-bold text-layit-blue uppercase",children:r.pattern})]}),(0,i.jsxs)("div",{className:"flex justify-between py-3 border-t-4 border-layit-orange bg-layit-yellow/10",children:[(0,i.jsx)("span",{className:"text-layit-blue font-bold",children:"TOTAL TILES:"}),(0,i.jsx)("span",{className:"font-bold text-layit-blue text-lg",children:c.totalTiles})]})]})]})]}),(0,i.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:(0,i.jsxs)(_,{className:"bg-layit-blue/5 border-4 border-layit-blue",children:[(0,i.jsxs)(O,{children:[(0,i.jsx)(U,{className:"text-lg text-layit-blue uppercase",children:"\uD83D\uDECD️ Shopping List"}),(0,i.jsx)(B,{className:"font-medium",children:"Materials you need to purchase for this project"})]}),(0,i.jsx)(Z,{children:(0,i.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"text-center p-6 bg-layit-white border-2 border-layit-blue",children:[(0,i.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDD32"}),(0,i.jsx)("p",{className:"font-bold text-layit-blue text-xl",children:c.totalTiles}),(0,i.jsxs)("p",{className:"text-sm text-layit-blue/70 uppercase font-medium",children:["Tiles (",n.length,"\xd7",n.width,h,")"]})]}),(0,i.jsxs)("div",{className:"text-center p-6 bg-layit-white border-2 border-layit-blue",children:[(0,i.jsx)("div",{className:"text-2xl mb-2",children:"\uD83E\uDDF1"}),(0,i.jsx)("p",{className:"font-bold text-layit-blue text-xl",children:(0,I.Ru)(.5*c.groutArea,"kg")}),(0,i.jsx)("p",{className:"text-sm text-layit-blue/70 uppercase font-medium",children:"Grout (Estimated)"})]}),(0,i.jsxs)("div",{className:"text-center p-6 bg-layit-white border-2 border-layit-blue",children:[(0,i.jsx)("div",{className:"text-2xl mb-2",children:"\uD83E\uDEA3"}),(0,i.jsx)("p",{className:"font-bold text-layit-blue text-xl",children:(0,I.Ru)(1.2*c.totalArea,"L")}),(0,i.jsx)("p",{className:"text-sm text-layit-blue/70 uppercase font-medium",children:"Adhesive (Estimated)"})]})]})})]})}),(0,i.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},className:"flex flex-col sm:flex-row gap-4 justify-between pt-6",children:[(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsxs)(g,{variant:"outline",onClick:()=>{console.log("Save project")},className:"flex items-center gap-2 border-4 border-layit-blue text-layit-blue hover:bg-layit-yellow font-bold",children:[(0,i.jsx)($.Z,{className:"h-4 w-4"}),"SAVE PROJECT"]}),(0,i.jsxs)(g,{variant:"outline",onClick:()=>{console.log("Export project data")},className:"flex items-center gap-2 border-4 border-layit-blue text-layit-blue hover:bg-layit-yellow font-bold",children:[(0,i.jsx)(ee.Z,{className:"h-4 w-4"}),"EXPORT PDF"]})]}),(0,i.jsxs)(g,{className:"bg-layit-yellow text-layit-blue hover:bg-layit-orange hover:text-layit-white font-bold shadow-[4px_4px_0px_theme(colors.layit.blue)] border-4 border-layit-blue",children:[(0,i.jsx)(et.Z,{className:"h-4 w-4 mr-2"}),"SHARE RESULTS"]})]})]})}function es(){let{currentStep:e}=(0,s.i)();return(0,i.jsx)(d,{children:(()=>{switch(e){case 0:default:return(0,i.jsx)(D,{});case 1:return(0,i.jsx)(H,{});case 2:return(0,i.jsx)(q,{});case 3:return(0,i.jsx)(ei,{})}})()})}},8964:function(e,t,l){"use strict";l.d(t,{i:function(){return o}});var i=l(9625),s=l(4391),a=l(6885);let r=[{id:"dimensions",title:"Room Dimensions",description:"Enter room measurements",completed:!1,current:!0},{id:"tile-selection",title:"Tile & Grout",description:"Select tile size and grout width",completed:!1,current:!1},{id:"pattern-selection",title:"Layout Pattern",description:"Choose tiling pattern",completed:!1,current:!1},{id:"results",title:"Results",description:"View calculations and preview",completed:!1,current:!1}],n={name:"New Tiling Project",layout:{shape:"rectangle",dimensions:{length:0,width:0,unit:"m"},pattern:"grid"},tile:{length:300,width:300,unit:"mm",groutWidth:2}},o=(0,i.Ue)()((0,a.tJ)((0,s.n)((e,t)=>({currentProject:n,wizardSteps:r,currentStep:0,savedProjects:[],isLoading:!1,error:null,createNewProject:()=>{e(e=>{e.currentProject={...n,id:crypto.randomUUID(),createdAt:new Date,updatedAt:new Date},e.wizardSteps=r,e.currentStep=0,e.error=null})},saveProject:()=>{e(e=>{let t=e.currentProject;if(!t.id)return;t.updatedAt=new Date;let l=e.savedProjects.findIndex(e=>e.id===t.id);l>=0?e.savedProjects[l]=t:e.savedProjects.push(t)})},loadProject:t=>{e(e=>{let l=e.savedProjects.find(e=>e.id===t);l&&(e.currentProject={...l},e.currentStep=3,e.wizardSteps=e.wizardSteps.map((e,t)=>({...e,completed:t<3,current:3===t})))})},deleteProject:t=>{e(e=>{e.savedProjects=e.savedProjects.filter(e=>e.id!==t)})},updateProjectName:t=>{e(e=>{e.currentProject.name=t})},nextStep:()=>{e(e=>{let t=e.currentStep;t<e.wizardSteps.length-1&&(e.wizardSteps[t].completed=!0,e.wizardSteps[t].current=!1,e.currentStep=t+1,e.wizardSteps[t+1].current=!0)})},previousStep:()=>{e(e=>{let t=e.currentStep;t>0&&(e.wizardSteps[t].current=!1,e.currentStep=t-1,e.wizardSteps[t-1].current=!0)})},goToStep:t=>{e(e=>{t>=0&&t<e.wizardSteps.length&&(e.wizardSteps[e.currentStep].current=!1,e.currentStep=t,e.wizardSteps[t].current=!0)})},completeStep:t=>{e(e=>{t>=0&&t<e.wizardSteps.length&&(e.wizardSteps[t].completed=!0)})},setLayoutShape:t=>{e(e=>{e.currentProject.layout&&(e.currentProject.layout.shape=t)})},setLayoutDimensions:(t,l,i)=>{e(e=>{e.currentProject.layout&&(e.currentProject.layout.dimensions={length:t,width:l,unit:i})})},setLayoutPattern:t=>{e(e=>{e.currentProject.layout&&(e.currentProject.layout.pattern=t)})},setCustomLayout:t=>{e(e=>{e.currentProject.layout&&(e.currentProject.layout.customLayout=t)})},setTileSpecification:t=>{e(e=>{e.currentProject.tile=t})},calculateProject:()=>{let{currentProject:i}=t();i.layout&&i.tile&&(e(e=>{e.isLoading=!0}),setTimeout(async()=>{try{let{calculateProject:t}=await l.e(667).then(l.bind(l,3667));if(i.layout&&i.tile){let l=t(i);l?e(e=>{e.currentProject.calculations=l,e.isLoading=!1}):e(e=>{e.error="Failed to calculate project",e.isLoading=!1})}}catch(t){e(e=>{e.error="Calculation error occurred",e.isLoading=!1})}},500))},setCalculations:t=>{e(e=>{e.currentProject.calculations=t})},resetProject:()=>{e(e=>{e.currentProject=n,e.wizardSteps=r,e.currentStep=0,e.error=null})},setError:t=>{e(e=>{e.error=t})},setLoading:t=>{e(e=>{e.isLoading=t})}})),{name:"layitright-project-store",partialize:e=>({savedProjects:e.savedProjects})}))},3438:function(e,t,l){"use strict";l.d(t,{Ft:function(){return n},Ru:function(){return r},l3:function(){return a},m7:function(){return s}});let i={mm:1,cm:10,m:1e3,in:25.4,ft:304.8};function s(e,t){return e*i[t]}function a(e,t){return e/i[t]}function r(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,i=e.toFixed(l).replace(/\\.?0+$/,"");return"".concat(i," ").concat(t)}function n(e){switch(e){case"mm":return 1;case"cm":case"in":case"ft":default:return .1;case"m":return .01}}}},function(e){e.O(0,[482,515,971,117,744],function(){return e(e.s=9846)}),_N_E=e.O()}]);